import dialogflow from "@google-cloud/dialogflow";
import dotenv from "dotenv";
dotenv.config();

async function addTrainingPhrases(newTrainingPhrases) {
  const { project_id, private_key, client_email } = JSON.parse(
    process.env.CREDENTIALS
  );
  const intentsClient = new dialogflow.IntentsClient({
    credentials: { private_key, client_email },
  });

  const intentPath = `projects/${project_id}/agent/intents/e70426b8-9aa3-40e1-a028-2ffc240c1493`;

  const [intent] = await intentsClient.getIntent({
    name: intentPath,
    intentView: "INTENT_VIEW_FULL",
  });

  newTrainingPhrases.forEach((phrase) => {
    const trainingPhrase = {
      type: "EXAMPLE",
      parts: [{ text: phrase }],
    };
    intent.trainingPhrases.push(trainingPhrase);
  });

  const [response] = await intentsClient.updateIntent({
    intent: intent,
    languageCode: "ru",
    updateMask: {
      paths: ["training_phrases"],
    },
  });

  console.log(
    `Intent updated with new training phrases: ${response.displayName}`
  );
}

const newTrainingPhrases = [
  "Какие документы необходимы для оформления ипотеки на квартиру для молодых специалистов?",
  "Как оформить право собственности на квартиру, полученную в результате выкупа по программе реновации?",
  "Какие шаги необходимо предпринять для оспаривания решения о выселении из муниципальной квартиры?",
  "Как рассчитывается компенсация за незаконное использование жилого помещения?",
  "Какие действия необходимы для получения разрешения на строительство дома на земельном участке рекреационного назначения?",
  "Как оформить ипотеку на квартиру для сотрудников правоохранительных органов?",
  "Какие документы нужны для оформления права собственности на квартиру, купленную через ипотечный брокер?",
  "Какие права имеют собственники квартир при проведении работ по замене стояков водоснабжения?",
  "Как рассчитывается плата за электроэнергию в многоквартирном доме с общедомовыми счетчиками?",
  "Какие действия необходимы для оформления договора аренды квартиры с правом пролонгации?",
  "Как оформить право собственности на квартиру, полученную в результате строительства по договору участия в долевом строительстве?",
  "Какие шаги необходимо предпринять для участия в программе обмена старого жилья на новостройку?",
  "Как рассчитывается налог на имущество для квартир, расположенных в исторической части города?",
  "Какие документы необходимы для регистрации права собственности на квартиру после ее полной реконструкции?",
  "Как оформить ипотеку на квартиру в доме, находящемся в зоне планируемого благоустройства?",
  "Какие права имеют арендаторы при расторжении договора аренды по инициативе арендодателя?",
  "Как рассчитывается стоимость аренды квартиры с учетом наличия подземного паркинга?",
  "Какие действия необходимы для оформления договора аренды квартиры для организации?",
  "Как оформить право собственности на квартиру, приобретенную через программу расселения из зоны риска оползней?",
  "Какие шаги необходимо предпринять для участия в программе кредитования строительства жилья для молодежи?",
  "Как рассчитывается налог на имущество для квартир, расположенных в зонах с особыми условиями использования территории?",
  "Какие документы нужны для получения разрешения на строительство многоквартирного дома на земельном участке промышленного назначения?",
  "Как оформить право собственности на квартиру, приобретенную в рамках программы льготного кредитования для семей с детьми?",
  "Какие права имеют собственники при ремонте инженерных коммуникаций в многоквартирном доме?",
  "Как рассчитывается плата за услуги ЖКХ в случае аварии на теплосетях?",
  "Какие действия необходимы для оформления договора аренды квартиры с опцией досрочного расторжения?",
  "Как оформить ипотеку на квартиру в доме, находящемся в зоне риска землетрясений?",
  "Какие документы необходимы для регистрации права собственности на квартиру, полученную в результате ликвидации чрезвычайной ситуации?",
  "Какие права имеют жильцы при обнаружении некачественного ремонта подъезда?",
  "Как рассчитывается стоимость аренды квартиры в доме с консьерж-сервисом?",
  "Какие действия необходимы для оформления договора купли-продажи квартиры с условием обмена на другое жилье?",
  "Как оформить право собственности на квартиру, приобретенную на аукционе по продаже залогового имущества?",
  "Какие шаги необходимо предпринять для участия в государственной программе по обеспечению жильем молодых ученых?",
  "Как рассчитывается налог на имущество для квартир, расположенных в зонах природоохранного значения?",
  "Какие документы нужны для получения разрешения на строительство частного дома на земельном участке водоохранной зоны?",
  "Как оформить право собственности на квартиру, приобретенную в рамках программы льготного кредитования для медицинских работников?",
  "Какие права имеют собственники квартир при проведении работ по установке системы видеонаблюдения?",
  "Как рассчитывается плата за услуги ЖКХ в случае замены водопроводных труб в многоквартирном доме?",
  "Какие действия необходимы для оформления договора аренды квартиры для проведения ремонтных работ?",
  "Как оформить ипотеку на квартиру в доме, находящемся в зоне риска подтопления?",
];

addTrainingPhrases(newTrainingPhrases);
