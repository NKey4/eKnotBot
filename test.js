import dialogflow from "@google-cloud/dialogflow";
import dotenv from "dotenv";
dotenv.config();

async function addTrainingPhrases(newTrainingPhrases) {
  const { project_id, private_key, client_email } = JSON.parse(
    process.env.CREDENTIALS
  );
  const intentsClient = new dialogflow.IntentsClient({
    credentials: { private_key, client_email },
  });

  const intentPath = `projects/${project_id}/agent/intents/e70426b8-9aa3-40e1-a028-2ffc240c1493`;

  const [intent] = await intentsClient.getIntent({
    name: intentPath,
    intentView: "INTENT_VIEW_FULL",
  });

  newTrainingPhrases.forEach((phrase) => {
    const trainingPhrase = {
      type: "EXAMPLE",
      parts: [{ text: phrase }],
    };
    intent.trainingPhrases.push(trainingPhrase);
  });

  const [response] = await intentsClient.updateIntent({
    intent: intent,
    languageCode: "ru",
    updateMask: {
      paths: ["training_phrases"],
    },
  });

  console.log(
    `Intent updated with new training phrases: ${response.displayName}`
  );
}

const newTrainingPhrases = [
  "Какие документы необходимы для оформления ипотеки на квартиру для военнослужащих?",
  "Как оформить право собственности на квартиру, полученную в рамках программы жилищного строительства?",
  "Какие шаги необходимо предпринять для оспаривания кадастровой стоимости земельного участка под многоквартирным домом?",
  "Как рассчитывается компенсация за повреждение квартиры в результате аварии на коммунальных сетях?",
  "Какие действия необходимы для получения разрешения на строительство дачного дома на земельном участке сельскохозяйственного назначения?",
  "Как оформить ипотеку на квартиру в доме, требующем срочного капитального ремонта?",
  "Какие документы нужны для оформления права собственности на квартиру, купленную на этапе котлована?",
  "Какие права имеют собственники квартир при проведении работ по установке общедомовых приборов учета?",
  "Как рассчитывается плата за водоснабжение в случае повреждения счетчика?",
  "Какие действия необходимы для оформления договора аренды квартиры на короткий срок?",
  "Как оформить право собственности на квартиру, полученную в результате перевода из нежилого фонда?",
  "Какие шаги необходимо предпринять для участия в программе государственного жилищного кредитования?",
  "Как рассчитывается налог на имущество для квартир, находящихся в зоне риска затопления?",
  "Какие документы необходимы для регистрации права собственности на квартиру после ее реконструкции?",
  "Как оформить ипотеку на квартиру в доме, подвергшемся чрезвычайной ситуации?",
  "Какие права имеют арендаторы при проведении ремонтных работ в арендуемой квартире?",
  "Как рассчитывается стоимость аренды квартиры в зависимости от ее местоположения?",
  "Какие действия необходимы для оформления договора аренды жилого помещения для иностранного гражданина?",
  "Как оформить право собственности на квартиру, приобретенную через программу расселения из аварийного жилья?",
  "Какие шаги необходимо предпринять для участия в государственной программе по обеспечению жильем многодетных семей?",
  "Как рассчитывается налог на имущество для квартир, расположенных в новых микрорайонах?",
  "Какие документы нужны для получения разрешения на ремонт квартиры в историческом здании?",
  "Как оформить право собственности на квартиру, приобретенную в рамках льготной ипотеки?",
  "Какие права имеют собственники при ремонте общего имущества в многоквартирном доме?",
  "Как рассчитывается плата за коммунальные услуги при наличии льгот для определенных категорий граждан?",
  "Какие действия необходимы для оформления договора аренды квартиры с возможностью продления?",
  "Как оформить ипотеку на квартиру в доме, находящемся в зоне риска схода селей?",
  "Какие документы необходимы для регистрации права собственности на квартиру, полученную в результате выкупа у государства?",
  "Какие права имеют жильцы при обнаружении асбеста в материалах дома?",
  "Как рассчитывается стоимость аренды квартиры с учетом наличия парковочного места?",
  "Какие действия необходимы для оформления договора купли-продажи квартиры с рассрочкой платежа?",
  "Как оформить право собственности на квартиру, приобретенную на аукционе по продаже имущества должника?",
  "Какие шаги необходимо предпринять для участия в программе субсидирования ипотеки для молодых семей?",
  "Как рассчитывается налог на имущество для квартир, находящихся в зоне ограниченного использования?",
  "Какие документы нужны для получения разрешения на строительство коттеджа на земельном участке в черте города?",
];

addTrainingPhrases(newTrainingPhrases);
